{% assign image = settings.checkout_shipping_chart_image %}

{% assign image_url = image | img_url: "800x" %}

{% include "attribute-image-box-ratio" %}

{% assign enabled = settings.checkout_shipping_chart_enabled %}

{% if enabled %}
  <style type="text/css">
    .checkout-shipping-chart {
      display: none;
      line-height: 1;
      font-size: 0;
      margin-top: 64px;
      text-align: right;
    }

    .checkout-shipping-chart img {
      max-width: 100%;
    }

    [data-step="shipping_method"] ~ .checkout-shipping-chart {
      display: block;
    }
  </style>

  <div class="checkout-shipping-chart">
    <img src="{{ image_url }}" alt="" />
  </div>

  <script>
    (function () {
      var element = document.querySelector(".checkout-shipping-chart img");

      if ( matchMedia("(max-width: 480px)").matches ) {
        element.style.width = "100%";
      }
    })();
  </script>
{% endif %}